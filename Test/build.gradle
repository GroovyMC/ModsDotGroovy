plugins {
    id 'java'
    id 'io.github.groovymc.modsdotgroovy' version '1.1.2'
}

java.toolchain.languageVersion = JavaLanguageVersion.of(17)

modsDotGroovy {
    dslVersion = '1.2.0'
    platforms 'forge', 'quilt'
}

tasks.configureEach {
    if (it.name == 'modsDotGroovyToToml') {
        it.mixinConfigs.put('mymod.mixins.json', 'mymod.refmap.json')
    }
}

afterEvaluate {
    println(sourceSets.main.ext.refMapFile)
}

repositories {
    mavenLocal()
}